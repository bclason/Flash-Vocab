{"ast":null,"code":"import{useNavigate,useLocation}from'react-router-dom';import{useState,useEffect}from'react';import{useStarredFilter}from'../hooks/useStarredFilter';import FullQuizMode from'../components/medleyModes/FullQuizMode';import config from'../config';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function Quiz(){const navigate=useNavigate();const[cards,setCards]=useState([]);const{state}=useLocation();const listId=state===null||state===void 0?void 0:state.listId;const listName=state===null||state===void 0?void 0:state.listName;const{practiceStarredOnly,togglePracticeStarred,starredCount,totalCount}=useStarredFilter(cards);// Fetch all cards from your backend\nuseEffect(()=>{if(!listId)return;fetch(\"\".concat(config.API_BASE_URL,\"/lists/\").concat(listId,\"/cards\")).then(res=>{if(!res.ok){throw new Error(\"HTTP error! status: \".concat(res.status));}return res.json();}).then(data=>{console.log('Fetched cards:',data);if(data&&Array.isArray(data)){setCards(data);}else{console.error('Expected array but got:',data);setCards([]);}}).catch(err=>{console.error('Failed to fetch cards',err);setCards([]);});},[listId]);return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{style:{display:'flex',alignItems:'center',padding:'.2rem',fontSize:'1.5rem'},children:/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>navigate('/'),children:\" Home\"})}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',flexDirection:'row',alignItems:'center',justifyContent:'center',gap:'1rem'},children:[/*#__PURE__*/_jsx(\"button\",{onClick:togglePracticeStarred,title:practiceStarredOnly?\"Practice all cards (\".concat(totalCount,\")\"):\"Practice only starred cards (\".concat(starredCount,\")\"),style:{fontSize:'3rem',background:'none',border:'none',cursor:'pointer'},children:practiceStarredOnly?'★':'☆'}),/*#__PURE__*/_jsxs(\"h1\",{style:{textAlign:'center',alignItems:'center',fontSize:'52px',fontWeight:'bolder'},children:[\"Full Quiz: \",listName]})]}),/*#__PURE__*/_jsx(\"p\",{style:{textAlign:'center',fontSize:'24px'},children:\"Feeling confident? Take the Full Quiz to test your full knowledge!\"}),/*#__PURE__*/_jsx(FullQuizMode,{cards:cards,practiceStarredOnly:practiceStarredOnly})]});}","map":{"version":3,"names":["useNavigate","useLocation","useState","useEffect","useStarredFilter","FullQuizMode","config","jsx","_jsx","jsxs","_jsxs","Quiz","navigate","cards","setCards","state","listId","listName","practiceStarredOnly","togglePracticeStarred","starredCount","totalCount","fetch","concat","API_BASE_URL","then","res","ok","Error","status","json","data","console","log","Array","isArray","error","catch","err","children","style","display","alignItems","padding","fontSize","type","onClick","flexDirection","justifyContent","gap","title","background","border","cursor","textAlign","fontWeight"],"sources":["/home/bclason/projects/spanish_app/flash_vocab/frontend/src/pages/quiz.js"],"sourcesContent":["import { useNavigate, useLocation } from 'react-router-dom';\nimport { useState, useEffect } from 'react';\nimport { useStarredFilter } from '../hooks/useStarredFilter';\nimport FullQuizMode from '../components/medleyModes/FullQuizMode';\nimport config from '../config';\n\nexport default function Quiz() {\n  const navigate = useNavigate();\n  const [cards, setCards] = useState([]);\n\n  const { state } = useLocation();\n  const listId = state?.listId;\n  const listName = state?.listName;\n\n  const { practiceStarredOnly, togglePracticeStarred, starredCount, totalCount } = useStarredFilter(cards);\n\n  // Fetch all cards from your backend\n  useEffect(() => {\n    if (!listId) return;\n    fetch(`${config.API_BASE_URL}/lists/${listId}/cards`)\n      .then(res => {\n        if (!res.ok) {\n          throw new Error(`HTTP error! status: ${res.status}`);\n        }\n        return res.json();\n      })\n      .then(data => {\n        console.log('Fetched cards:', data);\n        if (data && Array.isArray(data)) {\n          setCards(data);\n        } else {\n          console.error('Expected array but got:', data);\n          setCards([]);\n        }\n      })\n      .catch(err => {\n        console.error('Failed to fetch cards', err);\n        setCards([]);\n      });\n  }, [listId]);\n\n\n\n\n  return (\n    <div>\n      {/* Home button */}\n      <div style={{\n        display: 'flex',\n        alignItems: 'center',\n        padding: '.2rem',\n        fontSize: '1.5rem',\n      }}>\n          <button\n            type=\"button\"\n            onClick={() => navigate('/')}\n          > Home</button>\n      </div>\n\n      {/* Title */}\n      <div style={{\n        display: 'flex',\n        flexDirection: 'row',\n        alignItems: 'center',\n        justifyContent: 'center',\n        gap: '1rem',\n      }}>\n      <button \n        onClick={togglePracticeStarred}\n        title={practiceStarredOnly ? `Practice all cards (${totalCount})` : `Practice only starred cards (${starredCount})`}\n        style={{\n          fontSize: '3rem',\n          background: 'none',\n          border: 'none',\n          cursor: 'pointer',\n        }}\n      >\n        {practiceStarredOnly ? '★' : '☆'}\n      </button>\n\n      <h1 style={{\n        textAlign: 'center',\n        alignItems: 'center',\n        fontSize: '52px',\n        fontWeight: 'bolder',\n      }}>Full Quiz: {listName}</h1>\n    </div>\n\n      {/* Description */}\n      <p style={{\n        textAlign: 'center',\n        fontSize: '24px',\n      }}>\n        Feeling confident? Take the Full Quiz to test your full knowledge!\n      </p>\n\n      {/* FullQuizMode component */}\n      <FullQuizMode \n        cards={cards}\n        practiceStarredOnly={practiceStarredOnly}\n      />\n    </div>\n  );\n}\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}