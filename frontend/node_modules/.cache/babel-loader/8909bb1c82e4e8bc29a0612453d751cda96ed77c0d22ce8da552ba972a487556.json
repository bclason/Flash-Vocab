{"ast":null,"code":"import{useNavigate,useLocation}from'react-router-dom';import{useState,useEffect}from'react';import{useStarredFilter}from'../hooks/useStarredFilter';import FlashcardMode from'../components/medleyModes/FlashcardMode';import config from'../config';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function Flashcards(){const navigate=useNavigate();const[cards,setCards]=useState([]);const{state}=useLocation();const listId=state===null||state===void 0?void 0:state.listId;const listName=state===null||state===void 0?void 0:state.listName;// Use the custom hook for starred filtering\nconst{practiceStarredOnly,togglePracticeStarred,starredCount,totalCount}=useStarredFilter(cards);useEffect(()=>{if(!listId)return;// Fetch all cards from your backend\nfetch(\"\".concat(config.API_BASE_URL,\"/lists/\").concat(listId,\"/cards\")).then(res=>{if(!res.ok){throw new Error(\"HTTP error! status: \".concat(res.status));}return res.json();}).then(data=>{console.log('Fetched cards:',data);console.log('Cards with starred field:',data.map(card=>({id:card.id,term:card.term,starred:card.starred})));if(data&&Array.isArray(data)){setCards(data);}else{console.error('Expected array but got:',data);setCards([]);}}).catch(err=>{console.error('Failed to fetch cards',err);setCards([]);});},[listId]);return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{style:{display:'flex',alignItems:'center',padding:'.2rem',fontSize:'1.5rem'},children:/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>navigate('/'),children:\" Home\"})}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',flexDirection:'row',alignItems:'center',gap:'1rem',justifyContent:'center'},children:[/*#__PURE__*/_jsx(\"button\",{onClick:togglePracticeStarred,title:practiceStarredOnly?\"Practice all cards (\".concat(totalCount,\")\"):\"Practice only starred cards (\".concat(starredCount,\")\"),style:{fontSize:'3rem',background:'none',border:'none',cursor:'pointer'},children:practiceStarredOnly?'★':'☆'}),/*#__PURE__*/_jsxs(\"h1\",{style:{fontSize:'52px',fontWeight:'bolder'},children:[\"Flashcards: \",listName]})]}),/*#__PURE__*/_jsx(FlashcardMode,{cards:cards,listName:listName,practiceStarredOnly:practiceStarredOnly,starredCount:starredCount,totalCount:totalCount})]});}","map":{"version":3,"names":["useNavigate","useLocation","useState","useEffect","useStarredFilter","FlashcardMode","config","jsx","_jsx","jsxs","_jsxs","Flashcards","navigate","cards","setCards","state","listId","listName","practiceStarredOnly","togglePracticeStarred","starredCount","totalCount","fetch","concat","API_BASE_URL","then","res","ok","Error","status","json","data","console","log","map","card","id","term","starred","Array","isArray","error","catch","err","children","style","display","alignItems","padding","fontSize","type","onClick","flexDirection","gap","justifyContent","title","background","border","cursor","fontWeight"],"sources":["/home/bclason/projects/spanish_app/flash_vocab/frontend/src/pages/flashcards.js"],"sourcesContent":["import { useNavigate, useLocation } from 'react-router-dom';\nimport { useState, useEffect } from 'react';\nimport { useStarredFilter } from '../hooks/useStarredFilter';\nimport FlashcardMode from '../components/medleyModes/FlashcardMode';\nimport config from '../config';\n\n\n\nexport default function Flashcards() {\n  const navigate = useNavigate();\n  const [cards, setCards] = useState([]);\n\n  const { state } = useLocation();\n  const listId = state?.listId;\n  const listName = state?.listName;\n\n  // Use the custom hook for starred filtering\n  const { practiceStarredOnly, togglePracticeStarred, starredCount, totalCount } = useStarredFilter(cards);\n\n\n  useEffect(() => {\n    if (!listId) return;\n    // Fetch all cards from your backend\n    fetch(`${config.API_BASE_URL}/lists/${listId}/cards`)\n      .then(res => {\n        if (!res.ok) {\n          throw new Error(`HTTP error! status: ${res.status}`);\n        }\n        return res.json();\n      })\n      .then(data => {\n        console.log('Fetched cards:', data);\n        console.log('Cards with starred field:', data.map(card => ({ id: card.id, term: card.term, starred: card.starred })));\n        if (data && Array.isArray(data)) {\n          setCards(data);\n        } else {\n          console.error('Expected array but got:', data);\n          setCards([]);\n        }\n      })\n      .catch(err => {\n        console.error('Failed to fetch cards', err);\n        setCards([]);\n      });\n  }, [listId]);\n\n\n\n\n  return (\n    <div>\n      {/* Home button */}\n      <div style={{\n        display: 'flex',\n        alignItems: 'center',\n        padding: '.2rem',\n        fontSize: '1.5rem',\n      }}>\n          <button\n            type=\"button\"\n            onClick={() => navigate('/')}\n          > Home</button>\n      </div>\n\n\n      {/* Starred, Title, List Name */}\n      <div style={{\n        display: 'flex',\n        flexDirection: 'row',\n        alignItems: 'center',\n        gap: '1rem',\n        justifyContent: 'center',\n      }}>\n        <button \n          onClick={togglePracticeStarred}\n          title={practiceStarredOnly ? `Practice all cards (${totalCount})` : `Practice only starred cards (${starredCount})`}\n          style={{\n            fontSize: '3rem',\n            background: 'none',\n            border: 'none',\n            cursor: 'pointer',\n          }}>\n          {practiceStarredOnly ? '★' : '☆'}\n        </button>\n\n        <h1 style={{\n          fontSize: '52px',\n          fontWeight: 'bolder',\n        }}>Flashcards: {listName}</h1>\n      </div>\n\n      {/* FlashcardMode component */}\n      <FlashcardMode \n        cards={cards}\n        listName={listName}\n        practiceStarredOnly={practiceStarredOnly}\n        starredCount={starredCount}\n        totalCount={totalCount}\n      />\n    </div>\n  );\n}\n\n"],"mappings":"AAAA,OAASA,WAAW,CAAEC,WAAW,KAAQ,kBAAkB,CAC3D,OAASC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAC3C,OAASC,gBAAgB,KAAQ,2BAA2B,CAC5D,MAAO,CAAAC,aAAa,KAAM,yCAAyC,CACnE,MAAO,CAAAC,MAAM,KAAM,WAAW,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAI/B,cAAe,SAAS,CAAAC,UAAUA,CAAA,CAAG,CACnC,KAAM,CAAAC,QAAQ,CAAGZ,WAAW,CAAC,CAAC,CAC9B,KAAM,CAACa,KAAK,CAAEC,QAAQ,CAAC,CAAGZ,QAAQ,CAAC,EAAE,CAAC,CAEtC,KAAM,CAAEa,KAAM,CAAC,CAAGd,WAAW,CAAC,CAAC,CAC/B,KAAM,CAAAe,MAAM,CAAGD,KAAK,SAALA,KAAK,iBAALA,KAAK,CAAEC,MAAM,CAC5B,KAAM,CAAAC,QAAQ,CAAGF,KAAK,SAALA,KAAK,iBAALA,KAAK,CAAEE,QAAQ,CAEhC;AACA,KAAM,CAAEC,mBAAmB,CAAEC,qBAAqB,CAAEC,YAAY,CAAEC,UAAW,CAAC,CAAGjB,gBAAgB,CAACS,KAAK,CAAC,CAGxGV,SAAS,CAAC,IAAM,CACd,GAAI,CAACa,MAAM,CAAE,OACb;AACAM,KAAK,IAAAC,MAAA,CAAIjB,MAAM,CAACkB,YAAY,YAAAD,MAAA,CAAUP,MAAM,UAAQ,CAAC,CAClDS,IAAI,CAACC,GAAG,EAAI,CACX,GAAI,CAACA,GAAG,CAACC,EAAE,CAAE,CACX,KAAM,IAAI,CAAAC,KAAK,wBAAAL,MAAA,CAAwBG,GAAG,CAACG,MAAM,CAAE,CAAC,CACtD,CACA,MAAO,CAAAH,GAAG,CAACI,IAAI,CAAC,CAAC,CACnB,CAAC,CAAC,CACDL,IAAI,CAACM,IAAI,EAAI,CACZC,OAAO,CAACC,GAAG,CAAC,gBAAgB,CAAEF,IAAI,CAAC,CACnCC,OAAO,CAACC,GAAG,CAAC,2BAA2B,CAAEF,IAAI,CAACG,GAAG,CAACC,IAAI,GAAK,CAAEC,EAAE,CAAED,IAAI,CAACC,EAAE,CAAEC,IAAI,CAAEF,IAAI,CAACE,IAAI,CAAEC,OAAO,CAAEH,IAAI,CAACG,OAAQ,CAAC,CAAC,CAAC,CAAC,CACrH,GAAIP,IAAI,EAAIQ,KAAK,CAACC,OAAO,CAACT,IAAI,CAAC,CAAE,CAC/BjB,QAAQ,CAACiB,IAAI,CAAC,CAChB,CAAC,IAAM,CACLC,OAAO,CAACS,KAAK,CAAC,yBAAyB,CAAEV,IAAI,CAAC,CAC9CjB,QAAQ,CAAC,EAAE,CAAC,CACd,CACF,CAAC,CAAC,CACD4B,KAAK,CAACC,GAAG,EAAI,CACZX,OAAO,CAACS,KAAK,CAAC,uBAAuB,CAAEE,GAAG,CAAC,CAC3C7B,QAAQ,CAAC,EAAE,CAAC,CACd,CAAC,CAAC,CACN,CAAC,CAAE,CAACE,MAAM,CAAC,CAAC,CAKZ,mBACEN,KAAA,QAAAkC,QAAA,eAEEpC,IAAA,QAAKqC,KAAK,CAAE,CACVC,OAAO,CAAE,MAAM,CACfC,UAAU,CAAE,QAAQ,CACpBC,OAAO,CAAE,OAAO,CAChBC,QAAQ,CAAE,QACZ,CAAE,CAAAL,QAAA,cACEpC,IAAA,WACE0C,IAAI,CAAC,QAAQ,CACbC,OAAO,CAAEA,CAAA,GAAMvC,QAAQ,CAAC,GAAG,CAAE,CAAAgC,QAAA,CAC9B,OAAK,CAAQ,CAAC,CACd,CAAC,cAINlC,KAAA,QAAKmC,KAAK,CAAE,CACVC,OAAO,CAAE,MAAM,CACfM,aAAa,CAAE,KAAK,CACpBL,UAAU,CAAE,QAAQ,CACpBM,GAAG,CAAE,MAAM,CACXC,cAAc,CAAE,QAClB,CAAE,CAAAV,QAAA,eACApC,IAAA,WACE2C,OAAO,CAAEhC,qBAAsB,CAC/BoC,KAAK,CAAErC,mBAAmB,wBAAAK,MAAA,CAA0BF,UAAU,sCAAAE,MAAA,CAAsCH,YAAY,KAAI,CACpHyB,KAAK,CAAE,CACLI,QAAQ,CAAE,MAAM,CAChBO,UAAU,CAAE,MAAM,CAClBC,MAAM,CAAE,MAAM,CACdC,MAAM,CAAE,SACV,CAAE,CAAAd,QAAA,CACD1B,mBAAmB,CAAG,GAAG,CAAG,GAAG,CAC1B,CAAC,cAETR,KAAA,OAAImC,KAAK,CAAE,CACTI,QAAQ,CAAE,MAAM,CAChBU,UAAU,CAAE,QACd,CAAE,CAAAf,QAAA,EAAC,cAAY,CAAC3B,QAAQ,EAAK,CAAC,EAC3B,CAAC,cAGNT,IAAA,CAACH,aAAa,EACZQ,KAAK,CAAEA,KAAM,CACbI,QAAQ,CAAEA,QAAS,CACnBC,mBAAmB,CAAEA,mBAAoB,CACzCE,YAAY,CAAEA,YAAa,CAC3BC,UAAU,CAAEA,UAAW,CACxB,CAAC,EACC,CAAC,CAEV","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}